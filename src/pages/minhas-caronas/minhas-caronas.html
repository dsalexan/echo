

<ion-content padding>
  <div class="navHeight">
  <ion-title class="backTitle">Minhas Caronas</ion-title>
  <button class="backButton" (click) = "clickBack()"><ion-icon class="backIcon" md="md-arrow-back"></ion-icon></button>
  </div>
  <div style="height: 65px"></div>

  <div *ngIf="viagens_motorista.length == 0 && viagens_passageiro.length ==0">
    Você não está cadastrado em viagem alguma!
  </div>

  <ion-list *ngIf="viagens_motorista.length > 0">
    <h4> Motorista </h4>
    <button ion-item *ngFor="let viagem of viagens_motorista" (click)="abrirMotorista(viagem)">
      <ion-avatar item-start>
        <ion-icon name="md-person"></ion-icon>
        <!---<img src="img/avatar-cher.png">-->
      </ion-avatar>
      <h2>Dia {{viagem.dia.slice(8,10)}}/{{viagem.dia.slice(5,7)}}/{{viagem.dia.slice(0,4)}} às {{viagem.hora}}</h2>
      <p>Viagem de {{loc[viagem.id_origem]}} para {{loc[viagem.id_destino]}}</p>
      <p>Vagas disponíveis: {{viagem.qtd_vagas}} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R$ {{viagem.preco}}</p>
      
      {{!reservas_motorista[viagem.id_viagem] && reservas_motorista[viagem.id_viagem] != undefined ? 'Há reserva(s) pendentes' : ''}}

    </button>
  </ion-list>


  <ion-list *ngIf="viagens_passageiro.length > 0">
    <h4> Passageiro </h4>
    <button ion-item *ngFor="let viagem of viagens_passageiro" (click)="abrirPassageiro(viagem)">
      <ion-avatar item-start>
        <ion-icon name="md-person"></ion-icon>
        <!---<img src="img/avatar-cher.png">  foto do motorista? -->
      </ion-avatar>
      <h2>{{viagem.dia.slice(8,10)}}/{{viagem.dia.slice(5,7)}}/{{viagem.dia.slice(0,4)}} às {{viagem.hora}}</h2>
      <p>Viagem de {{loc[viagem.id_origem]}} para {{loc[viagem.id_destino]}}</p>
      <p>Motorista: {{viagem.nome}}</p>
      <p>Descrição: {{viagem.descricao}}</p>
      
      Reserva {{viagem.status_reserva ? 'confirmada' : 'pendente'}}

    </button>
  </ion-list>
</ion-content>